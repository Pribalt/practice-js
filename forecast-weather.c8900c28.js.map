{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,eAChCC,EAASF,SAASC,cAAc,YAEtCF,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACF,MACEC,OAASC,MAAOD,GAChBE,MAAQD,MAAOC,IACbJ,EAAEK,cAAcC,SAEpB,IAAKJ,EACH,OAAOK,MAAM,cAcjB,SAAoBL,EAAOE,GAGzB,OAAOI,MAAM,oFAAgCN,UAAcE,KAAQK,MACjEC,IAEE,GADAC,QAAQC,IAAIF,IACPA,EAAKG,GACR,MAAM,IAAIC,MAAMJ,EAAKK,YAGvB,OAAOL,EAAKM,MAAM,G,EArBtBC,CAAWf,EAAOE,GACfK,MACCS,GAASpB,EAAOqB,UAAyBD,EAAKE,SAASC,YA0BxDC,KACC,EACEC,KACEC,WAAWC,KAAEA,EAAIC,KAAEA,GAAMC,UACzBA,GACDC,KACDA,KAEA,qBACMH,WAAcC,gBACpBA,sBACKE,6BACOD,kBAGfE,KAAK,MAnCLC,MAAOhC,EAAOqB,UAuCV,8J","sources":["src/js/forecast-weather.js"],"sourcesContent":["const formEl = document.querySelector('.js-weather');\nconst listEl = document.querySelector('.js-list');\n\nformEl.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  const {\n    query: { value: query },\n    days: { value: days },\n  } = e.currentTarget.elements;\n\n  if (!query) {\n    return alert('add value');\n  }\n\n  weatherAPI(query, days)\n    .then(\n      data => (listEl.innerHTML = createMarkup(data.forecast.forecastday))\n      //  listEl.insertAdjacentHTML(\n      //    'beforeend',\n      //    createMarkup(data.forecast.forecastday)\n      //  )\n    )\n    .catch((listEl.innerHTML = createErrorMarkup()));\n}\n\nfunction weatherAPI(query, days) {\n  const BUSE_URL = 'http://api.weatherapi.com/v1/forecast.json';\n  const APY_KEY = '94a040c94bab4dcabf9130808222712';\n  return fetch(`${BUSE_URL}?key=${APY_KEY}&q=${query}&days=${days}`).then(\n    resp => {\n      console.log(resp);\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n\n      return resp.json();\n    }\n  );\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        day: {\n          condition: { icon, text },\n          avgtemp_c,\n        },\n        date,\n      }) =>\n        `<li>\n  <img src=\"${icon}\" alt=\"${text}\" />\n  <h3>${text}</h3>\n  <h2>Date ${date}</h2>\n  <h4>Temperature ${avgtemp_c}</h4>\n</li>`\n    )\n    .join('');\n}\n\nfunction createErrorMarkup() {\n  return `<li><img src=\"https://img.freepik.com/free-vector/oops-404-error-with-a-broken-robot-concept-illustration_114360-5529.jpg?w=1400\" alt=\"Bad request\" /></li>`;\n}\n"],"names":["$2a602146c83e601a$var$formEl","document","querySelector","$2a602146c83e601a$var$listEl","addEventListener","e","preventDefault","query","value","days","currentTarget","elements","alert","fetch","then","resp","console","log","ok","Error","statusText","json","$2a602146c83e601a$var$weatherAPI","data","innerHTML","forecast","forecastday","map","day","condition","icon","text","avgtemp_c","date","join","catch"],"version":3,"file":"forecast-weather.c8900c28.js.map"}