{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,eAChCC,EAASF,SAASC,cAAc,YAEtCF,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACF,IAGIC,EAAAF,EAAEG,cAAcC,SAFTC,EAEPH,EAFFG,MAASC,MACDC,EACNL,EADFK,KAAQD,MAGV,IAAKD,EACH,OAAOG,MAAM,cAcjB,SAAoBH,EAAOE,GACzB,IACME,EAAU,kCAChB,OAAOC,MAAM,GAAmBC,OAFf,6CAEQ,SAAoBA,OAAbF,EAAQ,OAAmBE,OAAdN,EAAM,UAAaM,OAALJ,IAAQK,MACjE,SAAAC,GAEE,GADAC,QAAQC,IAAIF,IACPA,EAAKG,GACR,MAAM,IAAIC,MAAMJ,EAAKK,YAGvB,OAAOL,EAAKM,M,KArBhBC,CAAWf,EAAOE,GACfK,MACC,SAAAS,G,OAASvB,EAAOwB,UAAyBD,EAAKE,SAASC,YA0BxDC,KACC,SAAAC,G,QACEC,IAAGC,EAAAC,EACDC,UAAaC,EAAIH,EAAJG,KAAMC,EAAIJ,EAAJI,KACnBC,EAASJ,EAATI,UAEFC,EAAIR,EAAJQ,K,MAEA,qBACoBvB,OAAdoB,EAAK,WACXpB,OADoBqB,EAAK,gBAEpBrB,OADLqB,EAAK,sBAEOrB,OADPuB,EAAK,6BACYvB,OAAVsB,EAAU,e,IAGzBE,KAAK,G,IAnCLC,MAAOtC,EAAOwB,UAuCT,8J","sources":["src/js/forecast-weather.js"],"sourcesContent":["const formEl = document.querySelector('.js-weather');\nconst listEl = document.querySelector('.js-list');\n\nformEl.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  const {\n    query: { value: query },\n    days: { value: days },\n  } = e.currentTarget.elements;\n\n  if (!query) {\n    return alert('add value');\n  }\n\n  weatherAPI(query, days)\n    .then(\n      data => (listEl.innerHTML = createMarkup(data.forecast.forecastday))\n      //  listEl.insertAdjacentHTML(\n      //    'beforeend',\n      //    createMarkup(data.forecast.forecastday)\n      //  )\n    )\n    .catch((listEl.innerHTML = createErrorMarkup()));\n}\n\nfunction weatherAPI(query, days) {\n  const BUSE_URL = 'http://api.weatherapi.com/v1/forecast.json';\n  const APY_KEY = '94a040c94bab4dcabf9130808222712';\n  return fetch(`${BUSE_URL}?key=${APY_KEY}&q=${query}&days=${days}`).then(\n    resp => {\n      console.log(resp);\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n\n      return resp.json();\n    }\n  );\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        day: {\n          condition: { icon, text },\n          avgtemp_c,\n        },\n        date,\n      }) =>\n        `<li>\n  <img src=\"${icon}\" alt=\"${text}\" />\n  <h3>${text}</h3>\n  <h2>Date ${date}</h2>\n  <h4>Temperature ${avgtemp_c}</h4>\n</li>`\n    )\n    .join('');\n}\n\nfunction createErrorMarkup() {\n  return `<li><img src=\"https://img.freepik.com/free-vector/oops-404-error-with-a-broken-robot-concept-illustration_114360-5529.jpg?w=1400\" alt=\"Bad request\" /></li>`;\n}\n"],"names":["$4e3867396c867f90$var$formEl","document","querySelector","$4e3867396c867f90$var$listEl","addEventListener","e","preventDefault","_elements","currentTarget","elements","query","value","days","alert","APY_KEY","fetch","concat","then","resp","console","log","ok","Error","statusText","json","$4e3867396c867f90$var$weatherAPI","data","innerHTML","forecast","forecastday","map","param","day","_condition","_day","condition","icon","text","avgtemp_c","date","join","catch"],"version":3,"file":"forecast-weather.542c7685.js.map"}